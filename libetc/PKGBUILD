pkgname=libetc
pkgver=0.4
pkgrel=1
pkgdesc='Redirect all dotfile calls from $HOME to $XDG_CONFIG_HOME, following the freedesktop standard'
arch=(any)
url='http://ordiluc.net/fs/libetc/'
license=(GPL)
makedepends=('make' 'gcc')
depends=('glibc')
source=(http://ordiluc.net/fs/libetc/libetc-0.4.tar.gz
patch_add_missing_header.patch)

prepare() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    patch -p1 < ../patch_add_missing_header.patch
}

build() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    make
}

package() {
    mkdir -p "${pkgdir}"/usr/lib/
    install -m 755 "${srcdir}/${pkgname}-${pkgver}"/libetc.so.0.4 "${pkgdir}"/usr/lib/
    ln -s "${pkgdir}"/usr/lib/libetc.so.0.4 "${pkgdir}"/usr/lib/libetc.so.0
    ln -s "${pkgdir}"/usr/lib/libetc.so.0 "${pkgdir}"/usr/lib/libetc.so
}
md5sums=('d72901834a7246c871f5985a30940f4c'
         '6da0618a7305075a31253cc0a8e3e4c1')
